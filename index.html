<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="images/background.jpg">
					<h1>Git and DevOps</h1>
					<h3></h3>
					<p>
						<small>Created by Chad Hurd / <a target="_blank" href="http://twitter.com/caffgeek">@caffgeek</a></small>
					</p>
					<aside class="notes">
						<p>Introduction</p>
						<p>Why Git?</p>
						<p>Command Line Walkthrough</p>
						<p>Leverage Git with Webhooks</p>
						<p>If time, Vagrant</p>
					</aside>
				</section>

				<section>
					<section>					
						<h2>Why Git</h2>
						<p>
							<img src="images/github.png" width="200" style="background: none; border:none; box-shadow:none;">
						</p>

						<aside class="notes">
							<p>Branches are FAST and Easy</p>
							<p>Undo almost everything</p>
							<p>local/offline source control</p>
							<p>Everyone has a copy of the FULL repository</p>
							<p>Language agnostic</p>
						</aside>
					</section>

					<section>
						<h2>Eclipse Community Survey 2014</h2>
						<img src="images/gitvssvn.png" />
						<aside class="notes">
							Mostly JAVA devs
							<h4>Git:</h4>
							<pre>
2009: 2.4%
2010: 6.8%
2011: 12.8%
2012: 27.6%
2013: 30.3%
2014: 33.3%
							</pre>

							<h4>Subversion:</h4>
							<pre>
2009: 57.5%
2010: 58.3%
2011: 51.3%
2012: 46.0%
2013: 37.8%
2014: 30.7%
							</pre>
						</aside>
					</section>

					<section>
						<h2>Microsoft?</h2>

						<img src="images/tfsgit.png" />

						<aside class="notes">
							<p>Team Foundation Version Control</p>
							<p>Standards compliant, not custom git</p>
							<p>Git, based on libgit2 (same as github)</p>
							<p>Industry Support</p>
						</aside>
					</section>

					<section>
						<h2>Use the CLI - Cheatsheet</h2>

						<pre><code class="sh" data-trim>
#create a new repository
git init 

#clone a repository
git clone http://gihub.com/caffgeek/reveal.gitdevops 

#get the changes from the server
git pull #basically a fetch then merge

#check what has changed
git status 

#commit changes locally
git add -A #stages all changes
git commit -m "checkin message"

#push changes to git server
git push
						</code></pre>

						<aside class="notes">
							<p>GUIs are great, once you understand what's happening under the hood</p>
							<p>Learn how it works better on the CLI</p>
							<p>Command line is faster, I didn't go back to the GUI</p>
						</aside>
					</section>

					<section>
						<h2>Git is Distributed</h2>
						
						<p><img src="images/git-screen2.png"></p>
						
						<aside class="notes">
							<p>Still a central server (normally)</p>
							<p>Each node has a full repo</p>
							<p>Share without using central server</p>
							<p>100% Redundancy</p>
						</aside>
					</section>
					
					<section>
						<h2>Status</h2>
						
						<p><img src="images/git-status.png"></p>
						
						<aside class="notes">
							<p>status = friend</p>
							<p>what's changed?</p>
							<p>need to add to staging area</p>
							<p>how you select files to commit</p>
						</aside>
					</section>
					
					<section>
						<h2>Committing - Staging</h2>
						
						<p><img src="images/git-staging.png"></p>
						
						<aside class="notes">
							<p>Added all with -A</p>
							<p>Individual with filename (wildcards)</p>
						</aside>
					</section>
					
					<section>
						<h2>Committing - Locally</h2>
						
						<p><img src="images/git-commit.png"></p>
						
						<p><img src="images/git-commitstatus.png"></p>
						
						<aside class="notes">
							<p>Commits are local</p>
							<p>1st time, went weeks before realizing</p>
							<p>status shows us we're behind master...</p>
							<p>work without central repo</p>
						</aside>
					</section>
					
					<section>
						<h2>Committing - Push</h2>
						
						<p><img src="images/git-push.png"></p>
						
						<aside class="notes">
							<p>Sends to remote repository</p>
						</aside>
					</section>
					
					<section>
						<h2>Branches</h2>
						
						<p><img src="images/git-branches.png"></p>
						
						<aside class="notes">
							<p>SUPER SUPER FAST</p>
							<p>Just pointers</p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Pointers</h2>
						
						<p><img src="images/git-pointers.png"></p>
						
						<aside class="notes">
							<p>in branch and commit, pointer moves with you</p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Merging</h2>
						
						<p><img src="images/git-merge.png"></p>
						
						<aside class="notes">
							<p>c7 = merged code...classic</p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Merging</h2>
						
						<p><img src="images/git-merge2.png"></p>
						
						<aside class="notes">
							<p>might not be conflicts</p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Rebase</h2>
						
						<p><img src="images/git-rebase1.png"></p>
						
						<aside class="notes">
							<p></p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Rebase</h2>
						
						<p><img src="images/git-rebase2.png"></p>
						
						<aside class="notes">
							<p></p>
						</aside>
					</section>
					
					<section>
						<h2>Branch Rebase</h2>
						
						<p><img src="images/git-rebase3.png"></p>
						
						<aside class="notes">
						</aside>
					</section>
					
					<section>
						<h2>Golden Rule of Rebasing</h2>
						
						<blockquote cite="https://www.atlassian.com/git/tutorials/merging-vs-rebasing/the-golden-rule-of-rebasing">
							The golden rule of git rebase is to <b>never</b> use it on public branches.
						</blockquote>
						
						<aside class="notes">
							<p>If you need to "push -f"</p>
							<p>you are rewriting history</p>
							<p>peers don't have those changes</p>
						</aside>
					</section>
					
					<section>
						<h2>Resources</h2>
						<p>
							<ul>
								<li><a target="_blank" href="https://try.github.io/levels/1/challenges/1">Interactive git demo!</a></li>
								<li><a target="_blank" href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing/">Merging vs Rebasing</a></li>
								<li><a target="_blank" href="http://www.git-tower.com/learn/git/ebook/command-line/advanced-topics/undoing-things">Undoing Things in Git</a></li>
							</ul>
						</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Tooling around Git</h2>

						<ul>
							<li><a target="_blank" href="https://developer.github.com/webhooks">https://developer.github.com/webhooks</a></li>
							<li><a target="_blank" href="https://github.com/github/github-services">https://github.com/github/github-services</a></li>
						</ul>

						<aside class="notes">
							<p>Webhooks = new</p>
							<p>github-services = old</p>
						</aside>
					</section>

					<section>
						<h2>WebHooks</h2>

						<aside class="notes">
							<p>Build integrations</p>
							<p>Subscribe to events on GitHub.com (fork, delete, create, etc)</p>
							<p>Send HTTP POST payload</p>
						</aside>
					</section>

					<section>
						<h2>What's out there?</h2>
						
						<table>
							<tr>
								<td>
									<p><img src="images/travis-ci.png"></p>	
									<p><img src="images/snap-ci.png"></p>
									<p><img src="images/circleci.png"></p>
								</td>
								<td>				
									<p><img src="images/codeclimate.png"></p>
									<p><img src="images/bamboo.png"></p>	
									<p><img src="images/versioneye.png"></p>
								</td>
							</tr>
						</table>
						
						<aside class="notes">
							<p>Only going to go into a few of these</p>
							<p>bamboo($) by atlassian (jira)</p>
							<p>versioneye - also daviddm for node (packages.json)</p>
						</aside>
					</section>
				</section>
			
				<section>
					<section>
						<h2>Travis CI</h2>

						<p><img src="images/travis-ci.png" /></p>

						<a target="_blank" href="https://travis-ci.org/">https://travis-ci.org/</a>

						<p></p>

						<aside class="notes">
							<ul>
								<li>CI service to build and test projects</li>
								<li>Very comprehensive language support</li>
								<li>Over 2 dozen at time of writing</li>
								<li>C/++, C#, F#, JAVA, Javascript/node, PHP, R, SCALA...</li>
								<li>It can even deploy your app!</li>
								<li>AWS, Azure, Google App Engine, Heroku, </li>
								<li>Startup needed services</li>
								<li>databases (mysql, mongo, neo4j)</li>
								<li>Not sql server or oracle :(</li>
								<li>rabbitmq</li>
								<li>all done through .travis.yml</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Travis CI</h2>

						<p><img src="images/travis-ci-screen1.png" /></p>
					</section>
					
					<section>
						<h2>Sample .travis.yml</h2>
						
						<pre><code class="yml" data-trim>
language: node_js
node_js:
  - "0.10"
notifications:
  slack: caffgeek:coKj2K5otFWUcZ6e8hY3h8Rn
						</code></pre>

						<aside class="notes">
							<ul>
								<li>Not very complex</li>
								<li>You have a console log to see what's going on</li>
							</ul>
						</aside>
					</section>
				</section>

				<section>
					<section>
						<h2>Code Climate</h2>

						<p><img src="images/codeclimate.png"></p>
						
						<a target="_blank" href="https://codeclimate.com">https://codeclimate.com</a>

						<aside class="notes">
							<p>Ruby, JavaScript, PHP (Beta), Python (Beta)</p>
							<p>Automatically open issues for code smells - http://github-service-universe.kimminich.de/#/18/6</p>
						</aside>
					</section>

					<section>
						<h2>Overview</h2>

						<p><img src="images/codeclimate-screen1.png" /></p>
					</section>

					<section>
						<h2>Repos at a Glance</h2>

						<p><img src="images/codeclimate-screen2.png" /></p>
					</section>

					<section>
						<h2>Dashboard of Repo</h2>

						<p><img src="images/codeclimate-screen3.png" /></p>
					</section>

					<section>
						<h2>Issue Breakdown</h2>

						<p><img src="images/codeclimate-screen4.png" /></p>
					</section>
					
					<section>
						<h2>Graphs</h2>

						<p><img src="images/codeclimate-screen5.png" /></p>
					</section>
					
					<section>
						<h2>Sample</h2>

						<p><img src="images/codeclimate-screen6.png" /></p>
					</section>
					
					<section>
						<h2>YAML</h2>

						<p><img src="images/codeclimate-screen8.png" /></p>
						
						<aside class="notes">
							<p>exclude paths</p>
							<p>specific languages</p>
							<p>instead of guessing</p>
						</aside>
					</section>
					
					<section>
						<h2>Create Tickets</h2>

						<p><img src="images/codeclimate-screen7.png" /></p>
						
						<aside class="notes">
							<p>Jira</p>
							<p>GitHub Issues</p>
							<p>Pivotal</p>
							<p>No trello(?)</p>
						</aside>
					</section>
				</section>

				<section>
					<section>
						<h2>VersionEye</h2>

						<p><img src="images/versioneye.png"></p>
						
						<a target="_blank" href="https://www.versioneye.com/">https://www.versioneye.com/</a>

						<aside class="notes">
							<p>watches your repositories package.json and bower.json</p>
						</aside>
					</section>
					<section>
						<h2>Configure</h2>

						<p><img src="images/versioneye-screen1.png"></p>

						<aside class="notes">
							<p>package.json - node</p>
							<p>bower.json - javascript</p>
						</aside>
					</section>
					<section>
						<h2>package.json</h2>

						<p><img src="images/versioneye-screen2.png"></p>

						<aside class="notes">
							<p></p>
						</aside>
					</section>
					<section>
						<h2>bower.json</h2>

						<p><img src="images/versioneye-screen4.png"></p>

						<aside class="notes">
							<p></p>
						</aside>
					</section>
					<section>
						<h2>Settings</h2>

						<p><img src="images/versioneye-screen3.png"></p>

						<aside class="notes">
							<p>Daily/Weekly/Monthly/Never</p>
							<p>Public/Private</p>
						</aside>
					</section>
				</section>

				<section>
					<section>
						<h2>Vagrant</h2>

						<p><img src="images/vagrant-logo.png"></p>
						
						<a href="https://www.vagrantup.com/">https://www.vagrantup.com/</a>

						<aside class="notes">
							<p>single file description of a machine</p>
							<p>base image</p>
							<p>provision</p>
							<p>configure</p>
							<p>virtual box</p>
						</aside>
					</section>
					
					<section>
						<h2>It's Just Code...</h2>

						<p><img src="images/vagrant-repo.png"></p>

						<aside class="notes">
							<p></p>
						</aside>
					</section>
					
					<section>
						<h2>VagrantFile</h2>

						<pre><code class="ruby" data-trim>
# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(2) do |config|
	config.vm.box = "hashicorp/precise32"
	
	config.vm.network "forwarded_port", guest: 1337, host: 8337
	
	config.vm.synced_folder ".", "/vagrant"
		
	config.vm.provision "shell", path: "sh/provision.sh"
	config.vm.provision "shell", path: "sh/startup.sh", run: "always"
end
						</code></pre>
					</section>
					
					<section>
						<h2>provision.sh</h2>

						<pre><code class="sh" data-trim>
# Change the hostname so we can easily identify what environment we're on:
echo "nodejs-vagrant" > /etc/hostname
# Update /etc/hosts to match new hostname to avoid "Unable to resolve hostname" issue:
echo "127.0.0.1 nodejs-vagrant" >> /etc/hosts
# Use hostname command so that the new hostname takes effect immediately without a restart:
hostname nodejs-vagrant

# Install core components
apt-get update

# Install build tools
apt-get install -y make g++ git curl vim libcairo2-dev libav-tools nfs-common portmap

# Install Node.js
# Modified from https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager
apt-get update
apt-get install -y python-software-properties python g++ make
add-apt-repository -y ppa:chris-lea/node.js
apt-get update
apt-get install -y nodejs
apt-get install screen

npm install supervisor -g
						</code></pre>
					</section>
					
					<section>
						<h2>startup.sh</h2>

						<pre><code class="sh" data-trim>
echo "Running node-supervisor with screen"
screen -d -m /vagrant/sh/node-supervisor.sh
						</code></pre>
						
						<h2>node-supervisor.sh</h2>

						<pre><code class="sh" data-trim>supervisor --watch /vagrant /vagrant/server.js</code></pre>
					</section>
					
					<section>
						<h2>Vagrant Up</h2>

						<p><img src="images/vagrant-up.png"></p>
					</section>
					
					<section>
						<h2>Vagrant SSH</h2>

						<p><img src="images/vagrant-ssh.png"></p>
					</section>
				</section>
			
				<section>
					<h2>Questions?</h2>
				</section>					
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
